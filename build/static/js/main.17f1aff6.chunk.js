(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[0],{148:function(e,t,a){},213:function(e,t,a){e.exports=a.p+"static/media/tune.148c2dca.mp3"},222:function(e,t,a){e.exports=a(424)},227:function(e,t,a){},329:function(e,t){},424:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(10),l=a.n(s),o=(a(148),a(227),a(79),a(4)),c=a(5),i=a(7),m=a(6),d=a(8),u=a(16),p=(a(44),a(430)),h=a(437),f=a(448),g=a(449),E=a(450),v=a(441),b=a(440),y=a(443),N=a(30),w=a.n(N),C=a(22),j=function(e){for(var t=e.itemsPerPage,a=e.totalItems,n=e.paginate,s=[],l=1;l<=Math.ceil(a/t);l++)s.push(l);return r.a.createElement("nav",null,r.a.createElement("ul",{className:"pagination"},s.map((function(e){return r.a.createElement("li",{key:e,className:"page-item"},r.a.createElement("a",{onClick:function(){return n(e)},className:"page-link"},e))}))))},k="/api-gateway/",S=a(36),P=a.n(S),O=function(e){return P.a.create({headers:{Authorization:w.a.load("admin_token")}})(e).then((function(e){return e.data})).catch((function(e){return e.response?401===e.response.status&&(w.a.remove("admin_token",{path:"/"}),window.location.reload()):console.error("Error Message:",e.message),Promise.reject(e)}))};var _={getProjectStatus:function(){return O({url:"".concat(k,"admin/getallprojectstatus"),method:"GET"})},login:function(e){return O({url:"".concat(k,"admin/login"),method:"POST",data:e})},forget:function(e){return O({url:"".concat(k,"users/forgotPassword"),method:"POST",data:e})},getUsers:function(){return O({url:"".concat(k,"admin/getallusers"),method:"GET"})},sendUser:function(e){return O({url:"".concat(k,"users/editprofile"),method:"POST",data:e})},getStatusKey:function(e){return O({url:"".concat(k,"admin/gettasks/").concat(e)})},resetPassword:function(e){return O({url:"".concat(k,"users/resetPassword"),method:"POST",data:e})},getBills:function(){return O({url:"".concat(k,"admin/getallbills"),method:"GET"})},getName:function(){return O({url:"".concat(k,"admin/getname"),method:"GET"})},logOut:function(){return O({url:"".concat(k,"logout"),method:"POST"})},getDiscounts:function(){return O({url:"".concat(k,"admin/getalldiscounts"),method:"GET"})},getPayments:function(){return O({url:"".concat(k,"admin/getallpayments"),method:"GET"})},getRoles:function(){return O({url:"".concat(k,"admin/getroles"),method:"GET"})},getCustomers:function(){return O({url:"".concat(k,"admin/getallcustomers"),method:"GET"})},createUser:function(e){return O({url:"".concat(k,"admin/createuser"),method:"POST",data:e})},getUser:function(e){return O({url:"".concat(k,"admin/getedituser/")+e,method:"GET"})},editUser:function(e){return O({url:"".concat(k,"admin/edituser/")+e.id,method:"POST",data:e})},getCustomer:function(e){return O({url:"".concat(k,"admin/geteditcustomer/")+e,method:"GET"})},editCustomer:function(e){return O({url:"".concat(k,"admin/editcustomer/")+e.id,method:"POST",data:e})},createCustomer:function(e){return O({url:"".concat(k,"admin/createcustomer"),method:"POST",data:e})},getUserNames:function(){return O({url:"".concat(k,"admin/getassignresources"),method:"GET"})},assignResources:function(e){return O({url:"".concat(k,"admin/assignresources"),method:"POST",data:e})},getUserProject:function(e){return O({url:"".concat(k,"admin/getprojectresources/")+e,method:"GET"})},geteditProfile:function(){return O({url:"".concat(k,"users/getedit"),method:"GET"})},editProfile:function(e){return O({url:"".concat(k,"users/editprofile"),method:"POST",data:e})},createProject:function(e){return O({url:"".concat(k,"admin/createproject"),method:"POST",data:e})},getProjectCustomers:function(){return O({url:"".concat(k,"admin/getcreateprojectdata"),method:"GET"})}},x=a(442),q=a(446),A=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).onChangeHandler=function(e){e.preventDefault();var t=a.state,n=t.data,r=t.searched,s=t.itemsPerPage,l=e.target.value;if("date"==e.target.type){var o=l.split("-");o=o.reverse(),l=o.join("/")}var c=Object(C.a)(n),i=e.target.name;for(i in r[i]=l,r)""!==(l=r[i])&&(c=c.filter((function(e){var t=e[i].toLowerCase(),a=l.toLowerCase();return t.includes(a)})));var m=!1;for(i in r)""!==(l=r[i])&&(m=!0);if(m)a.setState({filtered:c,searched:r,searching:!0});else{var d=1*s,u=d-a.state.itemsPerPage;a.setState({filtered:c.slice(u,d),searched:r,searching:!1})}},a.paginate=function(e){var t=a.state,n=t.data,r=e*t.itemsPerPage,s=r-a.state.itemsPerPage,l=Object(C.a)(n).slice(s,r);a.setState({currentPage:e,filtered:l})},a.editQuotation=function(e){a.props.history.push("/Edit/".concat(e))};return a.state={loggedIn:null,data:[],filtered:[],searched:[],currentPage:1,itemsPerPage:5,searching:!1,loaded:!1},a.props.setLocation(a.props.history.location.pathname),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;_.getBills().then((function(t){var a,n=e.state,r=n.currentPage*n.itemsPerPage,s=r-e.state.itemsPerPage,l=t.data.cyber_security;l=l.concat(t.data.office365),e.setState({data:l},(function(){if(l.length){var t=Object(C.a)(l);a=t.slice(s,r)}else a=[];e.setState({filtered:a,loaded:!0})}))})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.filtered,n=t.itemsPerPage,s=t.data,l=t.searching,o=t.loaded,c=a.length?a.map((function(t,a){return r.a.createElement("tr",{className:"text-left",key:a},r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.company_name),r.a.createElement("td",null,t.amount),r.a.createElement("td",null,t.status),r.a.createElement("td",null,t.reference_no),r.a.createElement("td",null,t.quoted_date),r.a.createElement("td",null,t.payment_date),e.props.canWrite?r.a.createElement("td",null,"Paid"!==t.status?r.a.createElement(x.a,{onClick:function(){return e.editQuotation(t.reference_no)}}):r.a.createElement(q.a,{onClick:function(){return e.props.history.push("/View/".concat(t.reference_no))}})):null)})):o?r.a.createElement("tr",null,r.a.createElement("td",{className:"float-left"},r.a.createElement("p",{className:"text-danger float-left"},"No record found"))):null;return r.a.createElement("div",null,r.a.createElement("div",{className:"content search-table-wrapper",id:"main-content",style:{clear:"both",width:"90%",marginLeft:"8%"}},r.a.createElement("div",{class:"card mt-3"},r.a.createElement("div",{class:"card-header text-bolder"},r.a.createElement("h4",{className:"font-weight-bold mb-0"},"Manage Bills And Payments")),r.a.createElement("div",{class:"card-body"},r.a.createElement("table",{class:"table "},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("input",{type:"text",className:"form-control W-100 d-block",name:"name",placeholder:"Name",onChange:this.onChangeHandler,required:!0})),r.a.createElement("th",{width:"170px"},r.a.createElement("input",{type:"text",className:"form-control W-100 d-block",placeholder:"Company name",name:"company_name",onChange:this.onChangeHandler,required:!0})),r.a.createElement("th",{width:"180px"},r.a.createElement("input",{type:"text",className:"form-control W-100 d-block",name:"amount",placeholder:"amount",onChange:this.onChangeHandler,required:!0})),r.a.createElement("th",{width:"180px"},r.a.createElement("input",{type:"text",className:"form-control W-100 d-block",name:"status",placeholder:"Status",onChange:this.onChangeHandler,required:!0})),r.a.createElement("th",{width:"180px"},r.a.createElement("input",{type:"text",className:"form-control W-100 d-block",name:"reference_no",placeholder:"Reference number",onChange:this.onChangeHandler,required:!0})),r.a.createElement("th",{width:"180px"},r.a.createElement("input",{type:"date",className:"form-control W-100 d-block",name:"quoted_date",placeholder:"Quotation date",onChange:this.onChangeHandler,required:!0})),r.a.createElement("th",{width:"180px"},r.a.createElement("input",{type:"date",className:"form-control W-100 d-block",name:"payment_date",placeholder:"Payment date",onChange:this.onChangeHandler,required:!0})),r.a.createElement("th",null)),r.a.createElement("tr",{className:"text-left"},r.a.createElement("th",null,"Customer Name"),r.a.createElement("th",null,"Company name"),r.a.createElement("th",null,"Amount"),r.a.createElement("th",null,"Status"),r.a.createElement("th",null,"Reference Number"),r.a.createElement("th",null,"Quotation date"),r.a.createElement("th",null,"Payment date"))),r.a.createElement("tbody",{className:"text-center"},c)))),r.a.createElement("br",null),l?null:r.a.createElement(j,{itemsPerPage:n,totalItems:s.length,paginate:this.paginate})))}}]),t}(n.Component),D=a(55),L=a(445),H=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).onChangeHandler=function(e){e.preventDefault();var t=a.state,n=t.data,r=t.searched,s=t.itemsPerPage,l=e.target.value;if("date"==e.target.type){var o=l.split("-");o=o.reverse(),l=o.join("/")}var c=Object(C.a)(n),i=e.target.name;for(i in r[i]=l,r)""!==(l=r[i])&&(c=c.filter((function(e){var t=e[i].toLowerCase(),a=l.toLowerCase();return t.includes(a)})));var m=!1;for(i in r)""!==(l=r[i])&&(m=!0);if(m)a.setState({filtered:c,searched:r,searching:!0});else{var d=1*s,u=d-a.state.itemsPerPage;a.setState({filtered:c.slice(u,d),searched:r,searching:!1})}},a.paginate=function(e){var t=a.state,n=t.data,r=e*t.itemsPerPage,s=r-a.state.itemsPerPage,l=Object(C.a)(n).slice(s,r);a.setState({currentPage:e,filtered:l})},a.addUserPage=function(){a.props.history.push("/AddUser")},a.editUser=function(e){a.props.history.push("/EditUser/".concat(e))};return a.state={loggedIn:null,data:[],filtered:[],searched:[],currentPage:1,itemsPerPage:5,searching:!1,loaded:!1},a.props.setLocation(a.props.history.location.pathname),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;_.getUsers().then((function(t){var a,n=e.state,r=n.currentPage*n.itemsPerPage,s=r-e.state.itemsPerPage,l=t.data;e.setState({data:l},(function(){if(l.length){var t=Object(C.a)(l);a=t.slice(s,r)}else a=[];e.setState({filtered:a,loaded:!0})}))})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.filtered,n=t.itemsPerPage,s=t.data,l=t.searching,o=t.loaded,c=a.length?a.map((function(t,a){return r.a.createElement("tr",{className:"text-left",key:a},r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.email),r.a.createElement("td",null,t.status),r.a.createElement("td",null,t.role_name),e.props.canwrite?r.a.createElement("td",null,r.a.createElement(L.a,{onClick:function(){return e.editUser(t.id)}})):null)})):o?r.a.createElement("tr",null,r.a.createElement("td",{className:"float-left"},r.a.createElement("p",{className:"text-danger float-left"},"No record found"))):null;return r.a.createElement("div",null,r.a.createElement("div",{className:"content search-table-wrapper",id:"main-content",style:{clear:"both",width:"90%",marginLeft:"8%"}},r.a.createElement("div",{className:"container-fluid mt-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:" col-md-12 card"},r.a.createElement("div",{className:"card-body text-capitalize font-weight-bolder text-dark w-100"},r.a.createElement("h4",{className:"d-inline-block"},"Users"),this.props.canwrite?r.a.createElement("span",{className:"float-right"},r.a.createElement(D.a,{onClick:this.addUserPage,className:"ant-btn ant-btn-primary w-100 "}," Add User")):null)))),r.a.createElement("div",{className:"card mt-3"},r.a.createElement("div",{className:"card-header text-bolder"},r.a.createElement("h4",{className:"font-weight-bold mb-0"},"Manage Users")),r.a.createElement("div",{className:"float-right"}),r.a.createElement("div",{class:"card-body"},r.a.createElement("table",{class:"table "},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("input",{type:"text",className:"form-control W-100 d-block",name:"name",placeholder:"Name",onChange:this.onChangeHandler,required:!0})),r.a.createElement("th",{width:"170px"},r.a.createElement("input",{type:"text",className:"form-control W-100 d-block",placeholder:"Email",name:"email",onChange:this.onChangeHandler,required:!0})),r.a.createElement("th",{width:"180px"},r.a.createElement("input",{type:"text",className:"form-control W-100 d-block",name:"status",placeholder:"Status",onChange:this.onChangeHandler,required:!0})),r.a.createElement("th",{width:"180px"},r.a.createElement("input",{type:"text",className:"form-control W-100 d-block",name:"role_name",placeholder:"User Role",onChange:this.onChangeHandler,required:!0})),r.a.createElement("th",null)),r.a.createElement("tr",{className:"text-left"},r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Status"),r.a.createElement("th",null,"User Role"),r.a.createElement("th",null))),r.a.createElement("tbody",{className:"text-center"},c)))),r.a.createElement("br",null),l?null:r.a.createElement(j,{itemsPerPage:n,totalItems:s.length,paginate:this.paginate})))}}]),t}(n.Component),T=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).onChangeHandler=function(e){e.preventDefault();var t=a.state,n=t.data,r=t.searched,s=t.itemsPerPage,l=e.target.value;if("date"==e.target.type){var o=l.split("-");o=o.reverse(),l=o.join("/")}var c=Object(C.a)(n),i=e.target.name;for(i in r[i]=l,r)""!==(l=r[i])&&(c=c.filter((function(e){var t=e[i].toLowerCase(),a=l.toLowerCase();return t.includes(a)})));var m=!1;for(i in r)""!==(l=r[i])&&(m=!0);if(m)a.setState({filtered:c,searched:r,searching:!0});else{var d=1*s,u=d-a.state.itemsPerPage;a.setState({filtered:c.slice(u,d),searched:r,searching:!1})}},a.paginate=function(e){var t=a.state,n=t.data,r=e*t.itemsPerPage,s=r-a.state.itemsPerPage,l=Object(C.a)(n).slice(s,r);a.setState({currentPage:e,filtered:l})};return a.state={loggedIn:null,data:[],filtered:[],searched:[],currentPage:1,itemsPerPage:5,searching:!1,loaded:!1},a.props.setLocation(a.props.history.location.pathname),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;_.getPayments().then((function(t){var a,n=e.state,r=n.currentPage*n.itemsPerPage,s=r-e.state.itemsPerPage,l=t.data;e.setState({data:l},(function(){if(l.length){var t=Object(C.a)(l);a=t.slice(s,r)}else a=[];e.setState({filtered:a,loaded:!0})}))})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state,t=e.filtered,a=e.itemsPerPage,n=e.data,s=e.searching,l=e.loaded,o=t.length?t.map((function(e,t){return r.a.createElement("tr",{className:"text-left",key:t},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.company_name),r.a.createElement("td",null,e.reference_no),r.a.createElement("td",null,e.amount),r.a.createElement("td",null,e.quoted_date),r.a.createElement("td",null,e.payment_date),r.a.createElement("td",{style:{textAlign:"center"}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3"}))))})):l?r.a.createElement("tr",null,r.a.createElement("td",{className:"float-left"},r.a.createElement("p",{className:"text-danger float-left"},"No record found"))):null;return r.a.createElement("div",null,r.a.createElement("div",{className:"content search-table-wrapper",id:"main-content",style:{clear:"both",width:"90%",marginLeft:"8%"}},r.a.createElement("div",{class:"card mt-3"},r.a.createElement("div",{class:"card-header text-bolder"},r.a.createElement("h4",{className:"font-weight-bold mb-0"},"Manage Payments")),r.a.createElement("div",{class:"card-body"},r.a.createElement("table",{class:"table "},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("input",{type:"text",className:"form-control W-100 d-block",name:"name",placeholder:"Customer Name",onChange:this.onChangeHandler,required:!0})),r.a.createElement("th",null,r.a.createElement("input",{type:"text",className:"form-control W-100 d-block",placeholder:"Company Name",name:"company_name",onChange:this.onChangeHandler,required:!0})),r.a.createElement("th",null,r.a.createElement("input",{type:"text",className:"form-control W-100 d-block",name:"reference_no",placeholder:"Reference Number",onChange:this.onChangeHandler,required:!0})),r.a.createElement("th",null,r.a.createElement("input",{type:"text",className:"form-control W-100 d-block",name:"amount",placeholder:"Amount",onChange:this.onChangeHandler,required:!0})),r.a.createElement("th",null,r.a.createElement("input",{type:"date",className:"form-control W-100 d-block",name:"quoted_date",placeholder:"Quotation date",onChange:this.onChangeHandler,required:!0})),r.a.createElement("th",null,r.a.createElement("input",{type:"date",className:"form-control W-100 d-block",name:"payment_date",placeholder:"payment_date",onChange:this.onChangeHandler,required:!0}))),r.a.createElement("tr",{className:"text-left"},r.a.createElement("th",null,"Customer Name"),r.a.createElement("th",null,"Company Name"),r.a.createElement("th",null,"Reference Number"),r.a.createElement("th",null,"Amount"),r.a.createElement("th",null,"Quotation Date"),r.a.createElement("th",null,"Payment Date"))),r.a.createElement("tbody",{className:"text-center"},o)))),r.a.createElement("br",null),s?null:r.a.createElement(j,{itemsPerPage:a,totalItems:n.length,paginate:this.paginate})))}}]),t}(n.Component),F=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).onChangeHandler=function(e){e.preventDefault();var t=a.state,n=t.data,r=t.searched,s=t.itemsPerPage,l=e.target.value;if("date"===e.target.type){var o=l.split("-");o=o.reverse(),l=o.join("/")}var c=Object(C.a)(n),i=e.target.name;for(i in r[i]=l,r)""!==(l=r[i])&&(c=c.filter((function(e){var t=e[i].toLowerCase(),a=l.toLowerCase();return t.includes(a)})));var m=!1;for(i in r)""!==(l=r[i])&&(m=!0);if(m)a.setState({filtered:c,searched:r,searching:!0});else{var d=1*s,u=d-a.state.itemsPerPage;a.setState({filtered:c.slice(u,d),searched:r,searching:!1})}},a.paginate=function(e){var t=a.state,n=t.data,r=e*t.itemsPerPage,s=r-a.state.itemsPerPage,l=Object(C.a)(n).slice(s,r);a.setState({currentPage:e,filtered:l})},a.editQuotation=function(e){a.props.history.push("/Edit/".concat(e,"/discount"))};return a.state={loggedIn:null,data:[],filtered:[],searched:[],currentPage:1,itemsPerPage:5,searching:!1,loaded:!1},a.props.setLocation(a.props.history.location.pathname),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;_.getDiscounts().then((function(t){var a,n=e.state,r=n.currentPage*n.itemsPerPage,s=r-e.state.itemsPerPage,l=t.data;e.setState({data:l},(function(){if(l.length){var t=Object(C.a)(l);a=t.slice(s,r)}else a=[];e.setState({filtered:a,loaded:!0})}))})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.filtered,n=t.itemsPerPage,s=t.data,l=t.searching,o=t.loaded,c=a.length?a.map((function(t,a){return r.a.createElement("tr",{className:"text-left",key:a},r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.company_name),r.a.createElement("td",null,t.reference_no),r.a.createElement("td",null,t.amount),r.a.createElement("td",null,t.quoted_date),r.a.createElement("td",null,t.status),e.props.canWrite?r.a.createElement("td",null,"Paid"!==t.status?r.a.createElement(x.a,{onClick:function(){return e.editQuotation(t.reference_no)}}):r.a.createElement(q.a,{onClick:function(){return e.props.history.push("/View/".concat(t.reference_no,"/discount"))}})):null)})):o?r.a.createElement("tr",null,r.a.createElement("td",{className:"float-left"},r.a.createElement("p",{className:"text-danger float-left"},"No record found"))):null;return r.a.createElement("div",null,r.a.createElement("div",{className:"content search-table-wrapper",id:"main-content",style:{clear:"both",width:"90%",marginLeft:"8%"}},r.a.createElement("div",{className:"card mt-3"},r.a.createElement("div",{className:"card-header text-bolder"},r.a.createElement("h4",{className:"font-weight-bold mb-0"},"Manage Discount")),r.a.createElement("div",{className:"card-body"},r.a.createElement("table",{className:"table "},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("input",{type:"text",className:"form-control W-100 d-block",name:"name",placeholder:"Customer Name",onChange:this.onChangeHandler,required:!0})),r.a.createElement("th",{width:"170px"},r.a.createElement("input",{type:"text",className:"form-control W-100 d-block",placeholder:"Company Name",name:"company_name",onChange:this.onChangeHandler,required:!0})),r.a.createElement("th",{width:"180px"},r.a.createElement("input",{type:"text",className:"form-control W-100 d-block",name:"reference_no",placeholder:"Reference Number",onChange:this.onChangeHandler,required:!0})),r.a.createElement("th",{width:"180px"},r.a.createElement("input",{type:"text",className:"form-control W-100 d-block",name:"amount",placeholder:"Amount",onChange:this.onChangeHandler,required:!0})),r.a.createElement("th",{width:"180px"},r.a.createElement("input",{type:"date",className:"form-control W-100 d-block",name:"quoted_date",placeholder:"Quotation date",onChange:this.onChangeHandler,required:!0})),r.a.createElement("th",{width:"180px"},r.a.createElement("input",{type:"text",className:"form-control W-100 d-block",name:"status",placeholder:"Status",onChange:this.onChangeHandler,required:!0}))),r.a.createElement("tr",{className:"text-left"},r.a.createElement("th",null,"Customer Name"),r.a.createElement("th",null,"Company Name"),r.a.createElement("th",null,"Reference Number"),r.a.createElement("th",null,"Amount"),r.a.createElement("th",null,"Payment Date"),r.a.createElement("th",null,"Status"))),r.a.createElement("tbody",{className:"text-center"},c)))),r.a.createElement("br",null),l?null:r.a.createElement(j,{itemsPerPage:n,totalItems:s.length,paginate:this.paginate})))}}]),t}(n.Component),U=a(42),I=h.a.SubMenu,z=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).remove=function(){a.setState({loggedIn:!1})};return a.state={loggedIn:!0,name:a.props.name},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){this.state.name!==this.props.name&&this.setState({name:this.props.name})}},{key:"render",value:function(){var e=this.state,t=e.loggedIn,a=e.name;return t?r.a.createElement(h.a,{mode:"horizontal"},r.a.createElement(I,{title:r.a.createElement("span",{className:"submenu-title-wrapper"},r.a.createElement("div",{className:"customer-name"},a,r.a.createElement("br",null),r.a.createElement("a",{href:"javascript:void(0)"},"View Profile")))},r.a.createElement(h.a.ItemGroup,null,r.a.createElement(h.a.Item,{key:"setting:1"},r.a.createElement(u.b,{to:"/EditProfile"}," Edit Profile")),r.a.createElement(h.a.Item,{key:"setting:2"},r.a.createElement("a",{onClick:this.remove}," LogOut"))))):r.a.createElement(U.a,{to:"/logout"})}}]),t}(n.Component),W=a(436),M=a(212),R=a.n(M),V=a(145),G=a(435),Q=a(213),B=a.n(Q),Z=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleOk=function(e){e.preventDefault(),a.setState({callVisible:!1})},a.calling=function(){var e=a.state,t=e.api,n=e.room,r=e.audio;a.setState({btnLoading:!0}),P.a.put("/api/acceptcall/"+n,null,{headers:t}).then((function(){if(a.setState({callVisible:!1,btnLoading:!1}),(!a.state.window||a.state.window.closed)&&a.state.callFrom){var e="/#/openvideo/"+a.state.room+"/"+a.state.callFrom+"/admin",t=window.open(e,"Video","width=900px,height=900px,toolbar=no,menubar=no,resizable=yes"),n=setInterval((function(){t.closed&&(clearInterval(n),console.log("popup closed"))}),1e3);a.setState({window:t}),r.pause(),r.currentTime=0}}))},a.handleCancel=function(){var e=a.state,t=e.api,n=e.room,r=e.audio;P.a.put("/api/rejectcall/"+n,null,{headers:t}).then((function(){a.setState({callVisible:!1,btnLoading:!1},(function(){r.pause(),r.currentTime=0}))}))},a.push=function(){a.setState({callVisible:!1})},a.state={myId:a.props.id,callVisible:!1,options:{client:R.a,broadcaster:"socket.io",host:window.location.hostname+":5555",forceTLS:!0,encrypted:!1,authEndpoint:"/broadcasting/auth",auth:{headers:{Authorization:"Bearer "+a.props.token,Accept:"application/json"}}},api:{Authorization:"Bearer "+a.props.token},callFrom:"",redirect:!1,audio:new Audio(B.a),btnLoading:!1,room:"",project:""},a.state.audio.loop=!0,a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=new V.a(this.state.options),a=this.state.api,n=this.state.myId;-1!==n&&t.private("startchat."+n).listen("TestEvent",(function(t){var a=t.room.split("_");e.setState({room:t.room,callFrom:t.name,project:a[1]})})).on("error",(function(e){console.log("error:"),console.error(e)})),t.join("chat").joining((function(e){P.a.put("/api/user/"+e.id+"/online",null,{headers:a})})).leaving((function(e){P.a.put("/api/user/"+e.id+"/offline",null,{headers:a})}))}},{key:"componentDidUpdate",value:function(e,t,a){var n=this;if(e.id!==this.props.id&&-1!==this.props.id){var r=new V.a(this.state.options),s=this.props.id,l=this.state.audio;r.private("startchat."+s).listen("TestEvent",(function(e){if(n.props.token){var t=e.vcall.room.split("_");_.getName().then(n.setState({callVisible:!0,callFrom:e.name,room:e.vcall.room,project:t[1]},(function(){return l.play()})))}})).listen("EndCall",(function(e){n.setState({callVisible:!1}),l.pause(),l.currentTime=0})).on("error",(function(e){console.log("error:"),console.error(e)}))}}},{key:"render",value:function(){var e=this.state.btnLoading;return r.a.createElement("div",null,r.a.createElement(G.a,{title:"Video Call From...",visible:this.state.callVisible,onOk:this.handleOk,onCancel:this.handleCancel,footer:null},r.a.createElement("div",{className:"text-center"},r.a.createElement("h4",{className:"text-center"},this.state.callFrom),r.a.createElement("h4",{className:"text-center"},this.state.project),r.a.createElement(D.a,{loading:e,href:"javascript:void(0)",onClick:this.calling,className:"ant-btn  ant-btn-primary m-2"},"Accept Call"),r.a.createElement("a",{href:"javascript:void(0)",onClick:this.handleCancel,className:"ant-btn ant-btn-primary ant-btn-gray m-2"},"Cancel Call"))))}}]),t}(n.Component),$=Object(U.g)(Z),K=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={current:"mail",visible:!1,callVisible:!1},a.showModal=function(){a.setState({callVisible:!0})},a.showDrawer=function(){a.setState({visible:!0,name:""})},a.onClose=function(){a.setState({visible:!1})},a.handleOk=function(e){e.preventDefault(),a.setState({callVisible:!1})},a.handleCancel=function(e){e.preventDefault(),a.setState({callVisible:!1})},a.push=function(){a.setState({callVisible:!1})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){this.state.name!==this.props.name&&this.setState({name:this.props.name})}},{key:"render",value:function(){return r.a.createElement("nav",{className:"menuBar"},r.a.createElement("div",{className:"logo"},r.a.createElement(u.b,{to:"/"},r.a.createElement("img",{src:"images/logo.png",alt:"image"})," ")),r.a.createElement("div",{className:"menuCon"},r.a.createElement("div",{className:"leftMenu"},r.a.createElement($,{token:this.props.token,id:this.props.id,history:this.props.history})),r.a.createElement("div",{className:"rightMenu"},r.a.createElement(z,{name:this.props.name})),r.a.createElement(D.a,{className:"barsMenu",type:"primary",onClick:this.showDrawer},r.a.createElement("span",{className:"barsBtn"})),r.a.createElement(W.a,{placement:"right",closable:!1,onClose:this.onClose,visible:this.state.visible},r.a.createElement(z,{name:this.state.name}))))}}]),t}(n.Component),J=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(h.a,{mode:"horizontal"},r.a.createElement(h.a,{mode:"horizontal"},r.a.createElement(h.a.Item,{key:"mail"},r.a.createElement(u.b,{to:"/"},"Login")),r.a.createElement(h.a.Item,{key:"app"},r.a.createElement(u.b,{to:"/forget"},"Forgot Password?"))))}}]),t}(n.Component),Y=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={current:"mail",visible:!1,collapsed:a.props.collapsed},a.showDrawer=function(){a.setState({visible:!0})},a.onClose=function(){a.setState({visible:!1})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"menuBar"},r.a.createElement("div",{className:"logo"},r.a.createElement(u.b,{to:"/Main"},r.a.createElement("img",{src:"images/logo.png",alt:"image"})," ")),r.a.createElement("div",{className:"menuCon"},r.a.createElement("div",{className:"leftMenu"},null),r.a.createElement("div",{className:"rightMenu"},r.a.createElement(J,null)),r.a.createElement(D.a,{className:"barsMenu",type:"primary",onClick:this.showDrawer},r.a.createElement("span",{className:"barsBtn"})),r.a.createElement(W.a,{title:"Basic Drawer",placement:"right",closable:!1,onClose:this.onClose,visible:this.state.visible},r.a.createElement(J,null))))}}]),t}(n.Component),X=a(25),ee=a(438),te=a(431),ae=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){a.setState(Object(X.a)({},e.target.name,e.target.value))},a.onInput=function(e){e.target.type},a.onSubmit=function(e){e.preventDefault(),a.setState({loading:!0});var t=a.state,n=t.email,r=t.password;""!==n&&""!==r&&n.toLowerCase().includes("vaporvm")?_.login(a.state).then((function(e){e&&e.api_key&&(w.a.save("admin_token",e.api_key,{path:"/",maxAge:18e3}),a.setState({loading:!1}),a.state.setToken(e.api_key),a.props.history.location.pathname.includes("Login")?a.props.history.push("/Main"):window.location.reload())})).catch((function(e){e.toString().includes(401)?ee.a.error("User is Inactive"):ee.a.error("Please enter valid credentials to login"),a.setState({loading:!1})})):(ee.a.error("Please enter valid credentials to login"),a.setState({loading:!1}))},a.state={email:"",password:"",loading:!1,setToken:a.props.setToken,token:w.a.load("admin_token")},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.token;void 0!==e&&""!==e&&(console.log(this.props.history.location.pathname,"path"),this.props.history.location.pathname.includes("Login")?this.props.history.push("/Main"):window.location.reload(),this.props.setToken(e))}},{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.loading;return r.a.createElement("div",null,r.a.createElement("div",{className:"container login-wrapper mt-5"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-md-5"},r.a.createElement(te.a,{loading:n,className:"card mt-3"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h2",{className:"text-center"},"Login to your account")),r.a.createElement("form",{className:"was-validated mx-4 my-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"email",className:"form-control",placeholder:"Enter Email",name:"email",required:!0,onChange:this.onChange,value:t,pattern:"^[a-zA-Z]+.*@[A-Za-z]+([.][a-zA-Z]+)+$",onBlur:this.onInput}),r.a.createElement("div",{className:"valid-feedback"}),r.a.createElement("div",{className:"invalid-feedback"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:"form-control",placeholder:"Enter password",name:"password",required:!0,onChange:this.onChange,value:a,pattern:"^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d).+$"})),r.a.createElement("button",{type:"submit",className:" ant-btn ant-btn-primary btn-success btn-block ",onClick:this.onSubmit},"Login")))))))}}]),t}(n.Component),ne=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.progress,a=e.total,n=e.complete,s=e.loading;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement(te.a,{loading:s},r.a.createElement("img",{src:"images/in-progress.png",alt:"Projects In-Progress"}),r.a.createElement("div",{className:"summary-info"},r.a.createElement("p",null,"Projects In-progress"),r.a.createElement("h2",{className:"blue-text"},t)))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement(te.a,{loading:s},r.a.createElement("img",{src:"images/completed.png",alt:"Project Completed"}),r.a.createElement("div",{className:"summary-info"},r.a.createElement("p",null,"Completed Tasks"),r.a.createElement("h2",{className:"green-text"},n)))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement(te.a,{loading:s},r.a.createElement("img",{src:"images/task-inprogress.png",alt:"Tasks Progress"}),r.a.createElement("div",{className:"summary-info"},r.a.createElement("p",null,"Tasks In-Progress"),r.a.createElement("h2",{className:"yellow-text"},a)))))}}]),t}(n.Component),re=a(433),se=a(218),le=a(432),oe=a(429),ce=a(447),ie=a(444),me=a(439),de=(n.Component,re.a.Panel),ue=(w.a.load("admin_token"),function(e){return e.collapsed?r.a.createElement(me.a,{style:{fontSize:"23px",color:"#b1c63d"}}):r.a.createElement(ie.a,{style:{fontSize:"23px",color:"#b1c63d"}})}),pe=function(e){return r.a.createElement("div",null,e.data&&e.data.map((function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},e.name)))))})))},he=function(e){var t=e.canWrite,a=e.history,n=e.token;return r.a.createElement("div",null,r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2"},e.name),r.a.createElement("div",{className:"col-md-2"},r.a.createElement("div",{className:"small"},"Expected Completion Date"),e.due_date),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("div",{className:"small"},"Progress"),""!==e.percentage?r.a.createElement(se.a,{strokeColor:{"0%":"#108ee9","100%":"#87d068"},percent:e.percentage,className:"m-0 custom-space g",status:"active"}):null),r.a.createElement("div",{className:"col-md-2"},100===e.percentage?r.a.createElement(le.a,{name:"file",action:"/api-gateway/admin/uploadprojectfile/"+e.name,headers:{Authorization:n},onChange:e.changeFile},r.a.createElement("a",null,r.a.createElement(ce.a,null)," Upload report")):null),r.a.createElement("div",{className:"col-md-2"},t?r.a.createElement("a",{className:"font-weight-bolder",style:{color:"#85c63d",fontSize:15},onClick:function(t){t.stopPropagation(),a.push("/Resource/".concat(e.name))}},"Assign Resource"):null)))))},fe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).changeFile=function(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?ee.a.success("".concat(e.file.name," file uploaded successfully")):"error"===e.file.status&&ee.a.error("".concat(e.file.name," file upload failed."))},a.onChange=function(e){var t=a.state.collapsed;void 0===e?t=[]:(t=[])[e]=!0,a.setState({collapsed:t}),void 0!==e&&(a.setState({fetching:!0}),_.getStatusKey(e).then((function(t){var n=a.state,r=n.percentage,s=n.due_date;r[e]=t.percentage,s[e]=t.due_date,a.setState({projectData:t.tasks,users:t.users,fetching:!1,percentage:r,due_date:s,loaded:!0})})).catch((function(e){return console.log(e)})))},a.state={data:[],percentage:[],projectData:[],fetching:!1,first:!0,collapsed:[],due_date:[],users:[],loaded:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.fetching,n=t.projectData,s=t.percentage,l=t.due_date,o=(t.users,this.props.loading),c=r.a.createElement(re.a,{accordion:!0,onChange:this.onChange},this.props.data&&this.props.data.map((function(t){return r.a.createElement(de,{showArrow:!1,header:r.a.createElement(he,{name:t.name,due_date:l[t.key]?l[t.key]:"",percentage:t.key in s?s[t.key]:"",canWrite:e.props.canWrite,history:e.props.history,changeFile:e.changeFile,token:e.props.token}),key:t.key,extra:r.a.createElement(ue,{collapsed:t.key in e.state.collapsed})},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},a?r.a.createElement(oe.a,{size:"large",className:"ml-5"}):r.a.createElement("div",null,r.a.createElement(pe,{data:n}))),r.a.createElement("div",{className:"col-md-4"})))})));return r.a.createElement("div",{className:"row "},r.a.createElement("div",{className:"col-md-12 "},r.a.createElement(te.a,{loading:o},c)))}}]),t}(n.Component),ge=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).onChangeHandler=function(e){e.preventDefault();var t=a.state,n=(t.data,t.searched),r=t.itemsPerPage,s=t.project_data,l=e.target.value;if("date"===e.target.type){var o=l.split("-");o=o.reverse(),l=o.join("/")}var c=Object(C.a)(s),i=e.target.name;for(i in n[i]=l,n)""!==(l=n[i])&&(c=c.filter((function(e){var t=e[i].toLowerCase(),a=l.toLowerCase();return t.includes(a)})));var m=!1;for(i in n)""!==(l=n[i])&&(m=!0);if(m)a.setState({filtered:c,searched:n,searching:!0});else{var d=1*r,u=d-a.state.itemsPerPage;a.setState({filtered:c.slice(u,d),searched:n,searching:!1})}},a.paginate=function(e){var t=a.state,n=t.project_data,r=e*t.itemsPerPage,s=r-a.state.itemsPerPage,l=Object(C.a)(n).slice(s,r);a.setState({currentPage:e,filtered:l})};return a.state={loggedIn:null,data:[],loading:!0,taskInProgress:null,taskComplete:null,ProjectComplete:null,name:a.props.name,company_name:a.props.company_name,token:a.props.token,project_data:[],filtered:[],searched:[],searching:!1,itemsPerPage:5,currentPage:1},""!==a.state.token&&void 0!==a.state.token&&(a.state.loggedIn=!0),a.props.setLocation(a.props.history.location.pathname),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){this.props.name===this.state.name&&this.props.company_name===this.state.company_name||this.setState({name:this.props.name,company_name:this.props.company_name})}},{key:"componentDidMount",value:function(){var e,t=this,a=this.state,n=a.currentPage*a.itemsPerPage,r=n-this.state.itemsPerPage;_.getProjectStatus().then((function(a){t.setState({data:a.data,loading:!1,project_data:a.data.Project_Data},(function(){if(t.state.project_data){var a=Object(C.a)(t.state.project_data);e=a.slice(r,n)}else e=[];t.setState({filtered:e})}))})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.loggedIn;if(!1===t||null===t)return r.a.createElement(U.a,{to:"/"});var a=this.state,n=a.data,s=a.loading,l=a.project_data,o=a.searching,c=a.itemsPerPage,i=a.filtered;return r.a.createElement("div",null,r.a.createElement("section",{className:"dashboard-section"},r.a.createElement("div",{className:"container mt-4"},r.a.createElement(ne,{progress:n.Total_Projects,complete:n.Tasks_Completed,total:n.Tasks_In_Progress,loading:s}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 "},r.a.createElement("card",{className:"row ant-card ant-card-bordered my-3 p-3"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("input",{type:"text",className:"form-control mt-2",name:"name",placeholder:"Search Project",onChange:this.onChangeHandler,required:!0})),r.a.createElement("div",{className:"col-md-3 offset-md-5"},this.props.canCreateProject?r.a.createElement("button",{className:"ant-btn ant-btn-primary float-right",onClick:function(){return e.props.history.push("/AddProject")}},"Add Project"):null)))),r.a.createElement(fe,{loading:s,data:i,canWrite:this.props.canWrite,history:this.props.history,token:this.props.token}),r.a.createElement("div",{className:"col-md-12 p-0"},r.a.createElement("card",{className:"d-block text-center ant-card ant-card-bordered my-3 p-3"},o?null:r.a.createElement(j,{itemsPerPage:c,totalItems:l?l.length:0,paginate:this.paginate}))))))}}]),t}(n.Component),Ee=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={email:a.props.match.params.email},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"container login-wrapper mt-5"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"card text-center"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h2",{className:"text-center my-3"},"Email Address Verified")),r.a.createElement("div",{className:"card-body"},r.a.createElement("p",null,"Thank you for verifying your email address. Please",r.a.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.props.history.push("/Login")}}," Click here "),r.a.createElement("br",null),"to login")))))))}}]),t}(n.Component),ve=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={setToken:a.props.setToken},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this,t={Authorization:"Bearer "+this.props.token};P.a.put("/api/user/"+this.props.id+"/offline",null,{headers:t}).then((function(){_.logOut(e.state).then((function(t){t&&(w.a.remove("admin_token",{path:"/"}),e.setState({loading:!1}),e.props.setToken(""),e.setState({loading:!1}),window.location.reload())})).catch((function(){ee.a.error("Email or password not valid"),e.setState({loading:!1})}))}))}},{key:"render",value:function(){return r.a.createElement(U.a,{To:"/Login"})}}]),t}(n.Component),be=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){a.setState(Object(X.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault(),a.state.email.toLowerCase().includes("vaporvm")?_.forget(a.state).then((function(e){a.props.history.push("/Message")})).catch((function(e){ee.a.error("this email is not registered with us.")})):(ee.a.error("this email is not registered with us."),a.setState({loading:!1}))},a.state={email:""},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.email;return r.a.createElement("div",null,r.a.createElement("div",{className:"container login-wrapper mt-5"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-md-5"},r.a.createElement("div",{className:"card mt-3 "},r.a.createElement("form",{className:"was-validated mx-4 my-4"},r.a.createElement("div",{className:"form-group "},r.a.createElement("input",{type:"email",className:"form-control",id:"email",placeholder:"Enter email",name:"email",required:!0,onChange:this.onChange,value:e,pattern:"^[a-zA-Z]+.*@[A-Za-z]+([.][a-zA-Z]+)+$"}),""!==this.state.email?r.a.createElement("div",null,r.a.createElement("div",{className:"valid-feedback"},"Valid."),r.a.createElement("div",{className:"invalid-feedback"},"Please fill out this field.")):null),r.a.createElement("button",{value:"Reset password",onClick:this.onSubmit,className:"ant-btn ant-btn-primary w-100 mt-3"},"Request Reset link"),r.a.createElement(u.b,{className:"forgot w-100 text-center m-auto d-block pt-3",to:"/Login"},"Back to Login")))))))}}]),t}(n.Component),ye=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"container login-wrapper mt-5"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"card text-center"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h2",{className:"text-center my-3"},"Reset Your Password")),r.a.createElement("div",{className:"card-body"},r.a.createElement("p",null,"We have sent you an email with password reset link. Please check your inbox to reset your password.")))))))}}]),t}(n.Component),Ne=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={token:a.props.match.params.token,password:"",password_confirmation:"",errors:{},success:""},a.onChange=function(e){a.setState(Object(X.a)({},e.target.name,e.target.value))},a.onInput=function(e){e.target.value.match("^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d).+$")||ee.a.error("password must be 8 characters long and should have at least one capital letter and one digit in it.")},a.onSubmit=function(e){if(e.preventDefault(),a.state.password!==a.state.password_confirmation)ee.a.error("Password and Confirm Password do not match");else if(a.state.password.length<8)ee.a.error("Password must be at least 8 characters long with at least one number and one capital letter");else if(a.state.password.match("^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d).+$")){var t=a.state;_.resetPassword({password:t.password,repassword:t.password_confirmation,token:t.token}).then((function(){return a.props.history.push("/ResetLink")})).catch((function(e){return ee.a.error("Can't reset password")}))}else ee.a.error("Password must be at least 8 characters long with at least one number and one capital letter")},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.password_confirmation,n=t.password,s=t.errors;return r.a.createElement("div",null,r.a.createElement("div",{className:"container login-wrapper mt-5"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-md-5"},r.a.createElement("div",{className:"card mt-3"},r.a.createElement("form",{className:"was-validated mx-4 my-4",onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:"form-control",placeholder:"Enter Password",name:"password",onChange:this.onChange,value:n,onBlur:function(t){return e.OnInput(t)},required:!0}),r.a.createElement("small",{id:"passwordHelp",className:"form-text text-danger"},s.password),r.a.createElement("small",{id:"passwordHelp",className:"form-text text-success text-bold"},this.state.success)),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:"form-control",placeholder:"Confirm password",name:"password_confirmation",onChange:this.onChange,value:a,required:!0}),r.a.createElement("div",{className:"valid-feedback"},this.state.success),r.a.createElement("div",{className:"invalid-feedback"},s.password)),r.a.createElement("button",{className:"ant-btn ant-btn-primary w-100 d-block"},"change password")))))))}}]),t}(n.Component),we=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"card mt-3"},r.a.createElement("div",{className:"card-body mx-3 my-3 text-center"},r.a.createElement("p",null,"your password has been changed successfully"),r.a.createElement("p",null,"Please ",r.a.createElement("span",null,r.a.createElement(u.b,{to:"/Login"},"Login")," ")," to continue")))))))}}]),t}(n.Component),Ce=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).onInput=function(e){var t=e.target.value;""!==t&&(t.length<8||!t.match("^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d).+$"))&&ee.a.error("Password must be at least 8 characters long with at least one number and one capital letter")},a.onSubmit=function(e){var t=!0;a.setState({loading:!0}),e.preventDefault(),""===a.state.name&&(t=!1,ee.a.error("name is required"),a.setState({loading:!1})),a.state.password!=a.state.repassword&&(t=!1,ee.a.error("Password and Confirm Password do not match"),a.setState({loading:!1})),a.state.password.length>0&&a.state.password.length<8&&(t=!1,ee.a.error("Password must be at least 8 characters long with at least one number and one capital letter "),a.setState({loading:!1})),""===a.state.password||a.state.password.match("^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d).+$")||(t=!1,ee.a.error("Password must be at least 8 characters long with at least one number and one capital letter"),a.setState({loading:!1})),t&&(_.editProfile(a.state).then((function(e){a.props.setName(a.state.name),a.props.history.push("/EditProfile"),ee.a.success("profile has been updated"),a.setState({loading:!1})})).catch((function(e){ee.a.error("can't update user"),a.setState({loading:!1})})),a.setState({loading:!1}))},a.onChangeHandler=function(e){"email"!==e.target.type&&(e.preventDefault(),a.setState(Object(X.a)({},e.target.name,e.target.value)))},a.state={name:"",phone:"",email:"",password:"",setName:a.props.setName,repassword:"",loading:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),_.geteditProfile().then((function(t){t?e.setState({name:t.name,email:t.email,loading:!1}):e.setState({loading:!1})})).catch((function(e){ee.a.error(e)}))}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.email,n=e.password,s=e.repassword,l=e.loading;return r.a.createElement("div",null,r.a.createElement("div",{className:"container login-wrapper mt-5"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement(te.a,{className:"card",loading:l},r.a.createElement("div",{className:"card-header"},r.a.createElement("h2",null,"Personal Details")),r.a.createElement("div",{className:"card-body row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",null,"Full Name"),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Full Name",name:"name",value:t,onChange:this.onChangeHandler,required:!0})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",null,"Email Address"),r.a.createElement("input",{type:"email",className:"form-control",placeholder:"Email Address",name:"email",value:a,onChange:this.onChangeHandler,required:!0})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",null,"New Password"),r.a.createElement("input",{type:"password",name:"password",className:"form-control",placeholder:"New Password",value:n,onBlur:this.onInput,onChange:this.onChangeHandler})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",null,"Confirm Password"),r.a.createElement("input",{type:"password",name:"repassword",className:"form-control",placeholder:"Confirm Password",value:s,onChange:this.onChangeHandler})),r.a.createElement("div",{className:"col-md-12"},r.a.createElement(D.a,{type:"primary",className:"ant-btn ant-btn-primary mt-3 float-right",onClick:this.onSubmit},"Update"))))))))}}]),t}(n.Component),je=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).onChangeHandler=function(e){e.preventDefault();var t=a.state,n=t.data,r=t.searched,s=t.itemsPerPage,l=e.target.value;if("date"==e.target.type){var o=l.split("-");o=o.reverse(),l=o.join("/")}var c=Object(C.a)(n),i=e.target.name;for(i in r[i]=l,r)""!==(l=r[i])&&(c=c.filter((function(e){var t=e[i].toLowerCase(),a=l.toLowerCase();return t.includes(a)})));var m=!1;for(i in r)""!==(l=r[i])&&(m=!0);if(m)a.setState({filtered:c,searched:r,searching:!0});else{var d=1*s,u=d-a.state.itemsPerPage;a.setState({filtered:c.slice(u,d),searched:r,searching:!1})}},a.paginate=function(e){var t=a.state,n=t.data,r=e*t.itemsPerPage,s=r-a.state.itemsPerPage,l=Object(C.a)(n).slice(s,r);a.setState({currentPage:e,filtered:l})},a.addCustomerPage=function(){a.props.history.push("/AddCustomer")},a.editUser=function(e){a.props.history.push("/EditCustomer/".concat(e))};return a.state={loggedIn:null,data:[],filtered:[],searched:[],currentPage:1,itemsPerPage:5,searching:!1,loaded:!1},a.props.setLocation(a.props.history.location.pathname),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;_.getCustomers().then((function(t){var a,n=e.state,r=n.currentPage*n.itemsPerPage,s=r-e.state.itemsPerPage,l=t.data;e.setState({data:l},(function(){if(l.length){var t=Object(C.a)(l);a=t.slice(s,r)}else a=[];e.setState({filtered:a,loaded:!0})}))})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.filtered,n=t.itemsPerPage,s=t.data,l=t.searching,o=t.loaded,c=a.length?a.map((function(t,a){return r.a.createElement("tr",{className:"text-left",key:a},r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.email),r.a.createElement("td",null,t.phone),r.a.createElement("td",null,t.company_name),r.a.createElement("td",null,t.verified),r.a.createElement("td",{style:{textAlign:"center"}},e.props.canwrite?r.a.createElement("span",null,r.a.createElement(L.a,{onClick:function(){return e.editUser(t.id)}})):null))})):o?r.a.createElement("tr",null,r.a.createElement("td",{className:"float-left"},r.a.createElement("p",{className:"text-danger float-left"},"No record found"))):null;return r.a.createElement("div",null,r.a.createElement("div",{className:"content search-table-wrapper",id:"main-content",style:{clear:"both",width:"90%",marginLeft:"8%"}},r.a.createElement("div",{className:"container-fluid mt-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 card"},r.a.createElement("div",{className:"card-body text-capitalize font-weight-bolder text-dark w-100"},r.a.createElement("h4",{className:"d-inline-block"},"Customers"),this.props.canwrite?r.a.createElement("span",{className:"float-right"},this.props.canwrite?r.a.createElement("span",{className:"float-right"},r.a.createElement(D.a,{onClick:this.addCustomerPage,className:"ant-btn ant-btn-primary w-100 "}," Add Customer")):null):null)))),r.a.createElement("div",{className:"card mt-3"},r.a.createElement("div",{className:"card-header text-bolder"},r.a.createElement("h4",{className:"font-weight-bold mb-0"}," Manage Customers")),r.a.createElement("div",{className:"card-body"},r.a.createElement("table",{className:"table "},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("input",{type:"text",className:"form-control W-100 d-block",name:"name",placeholder:"Name",onChange:this.onChangeHandler,required:!0})),r.a.createElement("th",{width:"170px"},r.a.createElement("input",{type:"text",className:"form-control W-100 d-block",placeholder:"Email",name:"email",onChange:this.onChangeHandler,required:!0})),r.a.createElement("th",{width:"180px"},r.a.createElement("input",{type:"number",className:"form-control W-100 d-block",name:"phone",placeholder:"Phone Number",onChange:this.onChangeHandler,required:!0})),r.a.createElement("th",{width:"190px"},r.a.createElement("input",{type:"text",className:"form-control W-100 d-block",name:"company_name",placeholder:"Company Name",onChange:this.onChangeHandler,required:!0})),r.a.createElement("th",null,r.a.createElement("input",{type:"text",className:"form-control W-100 d-block",name:"verified",placeholder:"Account status",onChange:this.onChangeHandler,required:!0}))),r.a.createElement("tr",{className:"text-left"},r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Phone Number"),r.a.createElement("th",null,"Company Name"),r.a.createElement("th",null,"Account Status"))),r.a.createElement("tbody",{className:"text-center"},c)))),r.a.createElement("br",null),l?null:r.a.createElement(j,{itemsPerPage:n,totalItems:s.length,paginate:this.paginate})))}}]),t}(n.Component),ke=(a(423),a(217)),Se=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).setValue=function(e){a.setState({value:e}),a.props.setValue(e)},a.state={value:void 0!==a.props.initial?a.props.initial:""},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){e.initial!==this.props.initial&&this.setState({value:this.props.initial})}},{key:"render",value:function(){return r.a.createElement(ke.a,{placeholder:"Enter phone number",value:this.state.value,onChange:this.setValue,className:"form-control"})}}]),t}(n.Component),Pe=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",repassword:"",company_name:"",phone:"",name:"",loading:!1},a.onChangeHandler=function(e){e.preventDefault(),a.setState(Object(X.a)({},e.target.name,e.target.value))},a.setPhone=function(e){a.setState({phone:e})},a.onSubmitHandler=function(e){a.setState({loading:!0}),e.preventDefault();var t=!1;""===a.state.name&&(t=!0,ee.a.error("Name is required"),a.setState({loading:!1})),""===a.state.email&&(t=!0,ee.a.error("Email is required"),a.setState({loading:!1})),""===a.state.phone&&(t=!0,ee.a.error("Phone is required"),a.setState({loading:!1})),""===a.state.company_name&&(t=!0,ee.a.error("Company name is required"),a.setState({loading:!1})),a.state.password!==a.state.repassword&&(t=!0,ee.a.error("Password and Confirm Password do not match"),a.setState({loading:!1})),""===a.state.password&&(t=!0,ee.a.error("Password is required"),a.setState({loading:!1})),""===a.state.repassword&&(t=!0,ee.a.error("Confirm Password is required"),a.setState({loading:!1})),""!==a.state.password&&(a.state.password.length<8||!a.state.password.match("^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d).+$"))&&(t=!0,ee.a.error("password must be 8 characters long and should have at least one capital letter and one digit in it."),a.setState({loading:!1})),t||_.createCustomer(a.state).then((function(){ee.a.success("Costumer created successfully."),a.setState({loading:!1}),a.props.history.push("/Customers")})).catch((function(){ee.a.error("can't create user."),a.setState({loading:!1})}))},a.onCancel=function(){a.props.history.push("/Customers")},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.repassword,s=e.company_name,l=e.phone,o=e.name,c=e.loading;return r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row mt-2"},r.a.createElement("div",{className:" col-md-12 "},r.a.createElement("div",{className:" card"},r.a.createElement("div",{className:"card-body text-capitalize font-weight-bolder text-dark w-100"},r.a.createElement("h1",null,"Add Customer"))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"card mt-5"},r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:this.onSubmitHandler},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Name:"),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Name",name:"name",required:!0,value:o,onChange:this.onChangeHandler})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Email:"),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Email",name:"email",required:!0,value:t,onChange:this.onChangeHandler})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Company Name:"),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Company",name:"company_name",required:!0,value:s,onChange:this.onChangeHandler})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Phone:"),r.a.createElement(Se,{setValue:this.setPhone,initial:l})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Password:"),r.a.createElement("input",{type:"password",className:"form-control",placeholder:"Password",name:"password",required:!0,value:a,onChange:this.onChangeHandler})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Confirm Password:"),r.a.createElement("input",{type:"password",className:"form-control",placeholder:"Confirm Password",name:"repassword",required:!0,value:n,onChange:this.onChangeHandler})),r.a.createElement("span",{className:"float-right"},r.a.createElement(D.a,{loading:c,onClick:this.onSubmitHandler,className:"ant-btn ant-btn-primary w-100 "}," Submit")),r.a.createElement("span",{className:"float-right"},r.a.createElement(D.a,{onClick:this.onCancel,className:"ant-btn ant-btn-primary ant-btn-gray w-100 "}," cancel")))))))))}}]),t}(n.Component),Oe=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1,id:a.props.match.params.id,email:"",password:"",repassword:"",company_name:"",name:"",phone:""},a.setPhone=function(e){a.setState({phone:e})},a.onChangeHandler=function(e){"email"!==e.target.name&&(e.preventDefault(),a.setState(Object(X.a)({},e.target.name,e.target.value)))},a.onSubmitHandler=function(e){e.preventDefault(),a.setState({loading:!0});var t=!1;""===a.state.name&&(t=!0,ee.a.error("name is required"),a.setState({loading:!1})),""===a.state.email&&(t=!0,ee.a.error("email is required"),a.setState({loading:!1})),""===a.state.phone&&(t=!0,ee.a.error("Phone is required"),a.setState({loading:!1})),""===a.state.company_name&&(t=!0,ee.a.error("Company name is required"),a.setState({loading:!1})),a.state.password!==a.state.repassword&&(t=!0,ee.a.error("Password and Confirm Password do not match"),a.setState({loading:!1})),a.state.password.length&&(!a.state.password||a.state.password.length<8||!a.state.password.match("^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d).+$"))&&(t=!0,ee.a.error("password must be 8 characters long and should have at least one capital letter and one digit in it."),a.setState({loading:!1})),t||_.editCustomer(a.state).then((function(){ee.a.success("Customer Updated successfully."),a.setState({loading:!1}),a.props.history.push("/Customers")})).catch((function(){ee.a.error("can't update user."),a.setState({loading:!1})}))},a.onCancel=function(){a.props.history.push("/Customers")},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;_.getCustomer(this.state.id).then((function(t){t&&e.setState({email:t.data.email,password:"",repassword:"",company_name:t.data.company_name,phone:t.data.phone,name:t.data.name})}))}},{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.repassword,s=e.company_name,l=e.phone,o=e.name,c=e.loading;return r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row mt-2"},r.a.createElement("div",{className:" col-md-12 "},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body text-capitalize font-weight-bolder text-dark w-100"},r.a.createElement("h1",null,"Edit Customer"))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"card mt-5"},r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:this.onSubmitHandler},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Name:"),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"username",name:"name",required:!0,value:o,onChange:this.onChangeHandler})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Email:"),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Email",name:"email",required:!0,value:t,onChange:this.onChangeHandler})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"phone"},"Phone:"),r.a.createElement(Se,{setValue:this.setPhone,initial:l})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Company Name:"),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Company Name",name:"company_name",required:!0,value:s,onChange:this.onChangeHandler})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Password:"),r.a.createElement("input",{type:"password",className:"form-control",placeholder:"Password",name:"password",required:!0,value:a,onChange:this.onChangeHandler})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Confirm Password:"),r.a.createElement("input",{type:"password",className:"form-control",placeholder:"Confirm Password",name:"repassword",required:!0,value:n,onChange:this.onChangeHandler})),r.a.createElement("span",{className:"float-right"},r.a.createElement(D.a,{loading:c,onClick:this.onSubmitHandler,className:"ant-btn ant-btn-primary w-100 "}," Submit")),r.a.createElement("span",{className:"float-right"},r.a.createElement(D.a,{onClick:this.onCancel,className:"ant-btn ant-btn-primary w-100 "}," cancel")))))))))}}]),t}(n.Component),_e=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",repassword:"",role_name:"",status:"",name:"",roles:[{value:"",display:"Select role"}],statuses:[{value:"",display:"Select status"},{value:"Active",display:"Active"},{value:"Inactive",display:"Inactive"}],fetching:!1},a.onChangeHandler=function(e){e.preventDefault(),a.setState(Object(X.a)({},e.target.name,e.target.value))},a.onSubmitHandler=function(e){a.setState({fetching:!0}),e.preventDefault();var t=!1;""===a.state.name&&(t=!0,ee.a.error("name is required"),a.setState({fetching:!1})),""!==a.state.email&&(a.state.email.toLowerCase().includes("vaporvm")||(t=!0,ee.a.error("can't create user"),a.setState({fetching:!1}))),""===a.state.email&&(t=!0,ee.a.error("email is required"),a.setState({fetching:!1})),""===a.state.status&&(t=!0,ee.a.error("Status is required"),a.setState({fetching:!1})),""===a.state.role_name&&(t=!0,ee.a.error("User role name is required"),a.setState({fetching:!1})),a.state.password!==a.state.repassword&&(ee.a.error("Password and Confirm Password do not match"),t=!0,a.setState({fetching:!1})),""===a.state.password&&(t=!0,ee.a.error("Password is required"),a.setState({fetching:!1})),""===a.state.repassword&&(t=!0,ee.a.error("Confirm Password is required"),a.setState({fetching:!1})),""!==a.state.password&&(a.state.password.length<8||!a.state.password.match("^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d).+$"))&&(t=!0,ee.a.error("password must be 8 characters long and should have at least one capital letter and one digit in it."),a.setState({fetching:!1})),t||_.createUser(a.state).then((function(){a.setState({fetching:!1}),ee.a.success("User created successfully."),a.props.history.push("/Users")})).catch((function(){ee.a.error("Email is already taken."),a.setState({fetching:!1})}))},a.onCancel=function(){a.props.history.push("/Users")},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;_.getRoles().then((function(t){if(t){var a=t.map((function(e){return{value:e,display:e}}));a=[{value:"",display:"Select Role"}].concat(a),e.setState({roles:a})}}))}},{key:"render",value:function(){var e=this.state,t=e.statuses,a=e.roles,n=e.email,s=e.password,l=e.repassword,o=e.role_name,c=e.status,i=e.name,m=e.fetching;return r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row mt-2"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:" card"},r.a.createElement("div",{className:"card-body text-capitalize font-weight-bolder text-dark w-100"},r.a.createElement("h1",null,"User"))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:" card mt-5"},r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:this.onSubmitHandler},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Name:"),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Name",name:"name",required:!0,value:i,onChange:this.onChangeHandler})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Email:"),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Email",name:"email",required:!0,value:n,onChange:this.onChangeHandler})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"Select status"},"Select status"),r.a.createElement("select",{className:"form-control",name:"status",value:c,onChange:this.onChangeHandler,required:!0},t.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.display)})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"Select hospital"},"Select Role"),r.a.createElement("select",{className:"form-control",name:"role_name",value:o,onChange:this.onChangeHandler,required:!0},a.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.display)})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Password:"),r.a.createElement("input",{type:"password",className:"form-control",placeholder:"Password",name:"password",required:!0,value:s,onChange:this.onChangeHandler})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Confirm Password:"),r.a.createElement("input",{type:"password",className:"form-control",placeholder:"Confirm Password",name:"repassword",required:!0,value:l,onChange:this.onChangeHandler})),r.a.createElement("span",{className:"float-right"},r.a.createElement(D.a,{loading:m,onClick:this.onSubmitHandler,className:"ant-btn ant-btn-primary w-100 "}," Submit")),r.a.createElement("span",{className:"float-right mx-md-2 mx-sm-0"},r.a.createElement(D.a,{onClick:this.onCancel,className:"ant-btn ant-btn-primary ant-btn-gray w-100 "}," cancel")))))))))}}]),t}(n.Component),xe=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1,id:a.props.match.params.id,email:"",password:"",repassword:"",role_name:"",status:"",name:"",roles:[{value:"",display:"Select role"}],statuses:[{value:"",display:"Select status"},{value:"Active",display:"Active"},{value:"Inactive",display:"Inactive"}]},a.onChangeHandler=function(e){"email"!==e.target.name&&(e.preventDefault(),a.setState(Object(X.a)({},e.target.name,e.target.value)))},a.onSubmitHandler=function(e){a.setState({loading:!0}),e.preventDefault();var t=!1;""===a.state.name&&(t=!0,ee.a.error("Name is required"),a.setState({loading:!1})),""===a.state.email&&(t=!0,ee.a.error("Email is required"),a.setState({loading:!1})),""===a.state.status&&(t=!0,ee.a.error("Status is required"),a.setState({loading:!1})),""===a.state.user_role&&(t=!0,ee.a.error("User role name is required"),a.setState({loading:!1})),a.state.password!==a.state.repassword&&(ee.a.error("Password and Confirm Password do not match"),t=!0,a.setState({loading:!1})),a.state.email.toLowerCase().includes("vaporvm")||(t=!0,ee.a.error("Can't create user"),a.setState({loading:!1})),a.state.password.length>0&&(!a.state.password||a.state.password.length<8||!a.state.password.match("^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d).+$"))&&(t=!0,ee.a.error("password must be 8 characters long and should have at least one capital letter and one digit in it."),a.setState({loading:!1})),t||_.editUser(a.state).then((function(){ee.a.success("User is updated ."),a.setState({loading:!1}),a.props.history.push("/Users")})).catch((function(){ee.a.error("Can't update user."),a.setState({loading:!1})}))},a.onCancel=function(){a.props.history.push("/Users")},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;_.getUser(this.state.id).then((function(t){if(t){var a=t.roles.map((function(e){return{value:e,display:e}}));a=[{value:"",display:"Select Role"}].concat(a),e.setState({roles:a,email:t.users.data.email,password:"",repassword:"",role_name:t.users.data.role_name,status:t.users.data.status,name:t.users.data.name}),localStorage.setItem("data",JSON.stringify(t.users.data))}}))}},{key:"render",value:function(){var e=this.state,t=e.statuses,a=e.roles,n=e.email,s=e.password,l=e.repassword,o=e.role_name,c=e.status,i=e.name,m=e.loading;return r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row mt-2"},r.a.createElement("div",{className:" col-md-12 "},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body text-capitalize font-weight-bolder text-dark w-100"},r.a.createElement("h1",null,"Edit User"))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"card mt-5"},r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:this.onSubmitHandler},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Name:"),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"username",name:"name",required:!0,value:i,onChange:this.onChangeHandler})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Email:"),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Email",name:"email",required:!0,value:n,onChange:this.onChangeHandler})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"Select hospital"},"Select status"),r.a.createElement("select",{className:"form-control",name:"status",value:c,onChange:this.onChangeHandler,required:!0},t.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.display)})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"Select hospital"},"Select Role"),r.a.createElement("select",{className:"form-control",name:"role_name",value:o,onChange:this.onChangeHandler,required:!0},a.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.display)})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Password:"),r.a.createElement("input",{type:"password",className:"form-control",placeholder:"Password",name:"password",required:!0,value:s,onChange:this.onChangeHandler})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Confirm Password:"),r.a.createElement("input",{type:"password",className:"form-control",placeholder:"Confirm Password",name:"repassword",required:!0,value:l,onChange:this.onChangeHandler})),r.a.createElement("span",{className:"float-right"},r.a.createElement(D.a,{loading:m,onClick:this.onSubmitHandler,className:"ant-btn ant-btn-primary w-100 "}," Submit")),r.a.createElement("span",{className:"float-right"},r.a.createElement(D.a,{onClick:this.onCancel,className:"ant-btn ant-btn-primary ant-btn-gray w-100 "}," cancel")))))))))}}]),t}(n.Component),qe=a(434),Ae=qe.a.Option,De=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).onSubmit=function(e){a.setState({loading:!0}),e.preventDefault();var t=a.state,n=(t.selected,t.project);""===n?(ee.a.error("Please select Project."),a.setState({loading:!1})):_.assignResources({users:a.state.selected,project:n}).then((function(){ee.a.success("Resource (s) Assigned."),a.setState({loading:!1}),a.props.history.push("/")})).catch((function(){ee.a.error("can't assign resources.")}))},a.handleChange=function(e){a.setState({selected:e})},a.onChangeHandler=function(e){for(var t=-1,n=a.state.projects,r=0;r<n.length;r++)e===n[r].value&&(t=r);for(var s=n[t].users,l=0;l<s.length;l++)s[l]=s[l]+"";a.setState({selected:s,project:e})},a.onCancel=function(){if(a.props.match.params.projectName){var e,t=JSON.parse(localStorage.getItem("data")),n=t.users.map((function(e){return{value:e.id,display:e.name}}));n=[].concat(n),e=t.projects.map((function(e){return{value:e.name,display:e.name,users:e.selected}})),e=[].concat(e);for(var s=[],l=0;l<n.length;l+=1)s.push(r.a.createElement(Ae,{key:n[l].value}," ",n[l].display));for(var o=[],c=0;c<e.length;c+=1)o.push(r.a.createElement(Ae,{key:e[c].value}," ",e[c].display));a.setState({usersFetched:s,projectsFetched:o,projects:e},(function(){var e=-1,t=a.state.projects;if(""!==a.state.projectName){for(var n=0;n<t.length;n++)a.state.project===t[n].value&&(e=n);if(-1!==e){for(var r=a.state.projects[e].users,s=0;s<r.length;s++)r[s]=r[s]+"";a.setState({selected:r})}else a.setState({selected:a.state.empty})}}))}else a.setState({projetName:"",selected:[],project:""})},a.state={usersFetched:[],projects:[],selected:[],projectsFetched:[],empty:[],project:a.props.match.params.projectName?a.props.match.params.projectName:"",loading:!1},a.props.setLocation(a.props.history.location.pathname),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;_.getUserNames().then((function(t){var a;if(localStorage.setItem("data",JSON.stringify(t)),t){var n=t.users.map((function(e){return{value:e.id,display:e.name}}));n=[].concat(n),a=t.projects.map((function(e){return{value:e.name,display:e.name,users:e.selected}})),a=[].concat(a);for(var s=[],l=0;l<n.length;l+=1)s.push(r.a.createElement(Ae,{key:n[l].value}," ",n[l].display));for(var o=[],c=0;c<a.length;c+=1)o.push(r.a.createElement(Ae,{key:a[c].value}," ",a[c].display));e.setState({usersFetched:s,projectsFetched:o,projects:a},(function(){var t=-1,a=e.state.projects;if(""!==e.state.projectName){for(var n=0;n<a.length;n++)e.state.project===a[n].value&&(t=n);if(-1!==t){for(var r=e.state.projects[t].users,s=0;s<r.length;s++)r[s]=r[s]+"";e.setState({selected:r})}else e.setState({selected:e.state.empty})}}))}}))}},{key:"render",value:function(){var e=this.state,t=e.usersFetched,a=e.projectsFetched,n=e.project,s=e.selected,l=e.loading;return r.a.createElement("div",{className:"col-md-6 offset-md-3"},r.a.createElement("h3",{className:"mt-5"},"Resource Assignments"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"Select Project"},"Select Project"),r.a.createElement(qe.a,{showSearch:!0,className:"form-control",placeholder:"Please select users",style:{width:"100%"},defaultValue:"Please Select Project",optionFilterProp:"children",onChange:this.onChangeHandler,filterOption:function(e,t){return t.props.children[1].toLowerCase().indexOf(e.toLowerCase())>=0},value:n},a)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"Select hospital"},"Select Users"),r.a.createElement(qe.a,{showSearch:!0,className:"form-control",mode:"multiple",optionFilterProp:"children",style:{width:"100%"},placeholder:"Please select users",onChange:this.handleChange,value:s,allowClear:!0,filterOption:function(e,t){return t.props.children[1].toLowerCase().indexOf(e.toLowerCase())>=0}},t)),r.a.createElement(D.a,{loading:l,className:" ant-btn btn-success ant-btn-primary float-right ",onClick:this.onSubmit},"Assign User"),r.a.createElement(D.a,{className:" ant-btn btn-success ant-btn-primary ant-btn-gray float-right",onClick:this.onCancel},"Cancel"))}}]),t}(n.Component),Le=a(14),He=a(78),Te=a(39);var Fe={OfficeSurveyPaymnet:function(e){return O({url:"/api/pay/token",method:"POST",data:e})},getQuestionAns:function(){return O({url:"".concat(k,"api/getQA"),method:"GET"})},sendAnswer:function(e){return O({url:"".concat(k,"office365/add"),method:"POST",data:e})},sendAnswerGoogle:function(e){return O({url:"".concat(k,"office365/addg"),method:"POST",data:e})},sendCyberAnswerGoogle:function(e){return O({url:"".concat(k,"cyber/addg"),method:"POST",data:e})},sendCyberAnswerln:function(e){return O({url:"".concat(k,"cyber/addln"),method:"POST",data:e})},sendAnswerln:function(e){return O({url:"".concat(k,"office365/addln"),method:"POST",data:e})},sendAnswerFacebook:function(e){return O({url:"".concat(k,"office365/addf"),method:"POST",data:e})},sendCyberAnswerFacebook:function(e){return O({url:"".concat(k,"cyber/addf"),method:"POST",data:e})},getAnswerDetail:function(e){return O({url:"".concat(k,"admin/viewquotation/").concat(e),method:"GET"})},sendCyberAnswer:function(e){return O({url:"".concat(k,"cyber/add"),method:"POST",data:e})},getCyberQuestionAns:function(){return O({url:"".concat(k,"api/getQA/1"),method:"GET"})},sendEditAnswer:function(e){return O({url:"".concat(k,"admin/editquotation"),method:"POST",data:e})},getCyberAnswerDetail:function(e){return O({url:"".concat(k,"cyber/detail/").concat(e),method:"GET"})},sendCyberEditAnswer:function(e){return O({url:"".concat(k,"cyber/edit"),method:"POST",data:e})},login:function(e){return O({url:"".concat(k,"login"),method:"POST",data:e})},getCyberPrice:function(e){return O({url:"".concat(k,"cyber/quotation/").concat(e),method:"GET"})},getOfficePrice:function(e){return O({url:"".concat(k,"office365/quotation/").concat(e),method:"GET"})},officePayment:function(e){return O({url:"".concat(k,"admin/editquotation"),method:"POST",data:e})},officePaymentRef:function(e){return O({url:"".concat(k,"office365/donePayment"),method:"POST",data:e})},CyberPaymentRef:function(e){return O({url:"".concat(k,"cyber/donePayment"),method:"POST",data:e})}},Ue=re.a.Panel,Ie=function(e){return r.a.createElement("div",null,r.a.createElement("p",{className:"font-weight-bolder",style:{fontSize:10}},r.a.createElement("span",{className:"ant-typography-ellipsis-single-line"}," ",e.question),e.disabled?null:r.a.createElement(Le.a,{title:"edit",style:{fontSize:20},type:"edit"})))},ze=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,editData:[],checked:[],ans:"",refrence_no:a.props.match.params.refrenceNo,customer_name:"",company_name:"",status:"",quotation_date:"",payment_date:"",disabled:a.props.history.location.pathname.toLowerCase().includes("view"),price:0,pricelabel:0},a.onChange=function(e,t){if("number"===e.target.type)if(e.target.value.match("^([0-9]|[1-8][0-9]|9[0-9]|[1-8][0-9]{2}|9[0-8][0-9]|99[0-9]|1000)$")){var n=a.state.editData,r=Object.values(n).map((function(a){return a.id===t.id?(a.selected_ans=e.target.value,a):a}));a.setState({editData:r})}else{ee.a.error("Quantity must be between 0 and 1000");var s=a.state.editData,l=Object.values(s).map((function(e){return e.id===t.id?(e.selected_ans="",e):e}));a.setState({editData:l})}if("radio"===e.target.type){var o=a.state.editData,c=Object.values(o).map((function(a){return a.id===t.id?(a.selected_ans=e.target.value,a):a}));a.setState({editData:c})}if("checkbox"===e.target.type)if(e.target.checked){var i=a.state.editData,m=Object.values(i).map((function(a){return a.id===t.id?(a.selected_ans=e.target.value,a):a}));a.setState({Questions:m})}else{var d=a.state.editData,u=Object.values(d).map((function(e){return e.id===t.id?(e.selected_ans="",e):e}));a.setState({Questions:u})}},a.onSaveHandler=function(){if(!a.state.disabled){if("Office 365"===a.state.survey_type&&0===a.state.checked.length)return void ee.a.error("services options are necessary");a.setState({loading:!0});var e={reference_no:a.props.match.params.refrenceNo};Object.values(a.state.editData).forEach((function(t,a){void 0!==t.selected_ans&&(e[t.tag]=t.selected_ans)})),setTimeout((function(){a.setState({loading:!1})}),400),ee.a.success("item have been updated")}},a.onSubmitHandler=function(){if(!a.state.disabled){if("Office 365"===a.state.survey_type&&0===a.state.checked.length)return void ee.a.error("services options are necessary");var e={refrence_no:a.props.match.params.refrenceNo,price:a.state.price};Object.values(a.state.editData).forEach((function(t,a){void 0!==t.selected_ans&&(e[t.tag]=t.selected_ans)})),a.postAns(e),a.setState({btnloading:!0})}},a.postAns=function(e){if("Office 365"!==a.state.survey_type||0!==a.state.checked.length){var t=a.props;t.history,t.match.params.refrenceNo;a.setState({loading:!0}),Fe.sendEditAnswer(e).then((function(e){e.data.success&&(a.getAnsDetail(),ee.a.success("quotation updated successfully"))})).catch((function(e){return ee.a.error("quotation can not be updated")}))}else ee.a.error("Services options are necessary")},a.check=function(e){if(!a.state.disabled){var t=a.state.editData;if("checkbox"===e.target.type)if(a.state.checked.includes(e.target.name)){var n=a.state.checked;n.splice(n.indexOf(e.target.name),1),t[7].selected_ans=n.join(),a.setState({checked:n,editData:t})}else if("None"===e.target.name){var r=[];r.push(e.target.name),t[7].selected_ans=r.join(),a.setState({checked:r,editData:t})}else{var s=a.state.checked;s.includes("None")&&(s=[]),s.push(e.target.name),t[7].selected_ans=s.join(),a.setState({checked:s,editData:t})}}},a.getAnsDetail=function(){var e=a.props.match.params.refrenceNo;a.setState({loading:!0}),Fe.getAnswerDetail(e).then((function(e){a.setState({editData:e.data.survey_questions,loading:!1,survey_type:e.data.survey_type,customer_name:e.data.customer_name,company_name:e.data.company_name,quotation_date:e.data.quoted_date,payment_date:e.data.payment_date,status:e.data.status,last_updated_by:e.data.last_updated_by,last_updated_at:e.data.last_updated_at,pricelabel:e.data.price?e.data.price:0,price:""},(function(){if("Paid"!==a.state.status||a.state.disabled||a.setState({disabled:!0}),"Office 365"===a.state.survey_type){for(var e=a.state.editData[7].selected_ans.split(","),t=[],n=0;n<e.length;n+=1)t.push(e[n]);a.setState({checked:t,loading:!1})}})),localStorage.setItem("data",JSON.stringify(e.data.survey_questions))}))},a.onCrossHandler=function(){a.setState({editData:JSON.parse(localStorage.getItem("data"))},(function(){for(var e=a.state.editData,t=e[7].selected_ans,n=t.split(","),r=[],s=0;s<n.length;s+=1)r.push(n[s]);e[7].selected_ans=t,a.setState({checked:r,editData:e})}))},a.change=function(e){a.state.disabled||a.setState(Object(X.a)({},e.target.name,e.target.value))},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.match.params.path?this.props.setLocation("/Discounts"):this.props.setLocation("/Quotations"),this.getAnsDetail()}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.refrence_no,s=t.customer_name,l=t.company_name,o=t.status,c=t.quotation_date,i=t.payment_date,m=t.disabled,d=t.price,u=t.pricelabel,p=t.last_updated_by,h=t.last_updated_at,f=this.state.editData&&this.state.editData.map((function(t){return t.q_visible?r.a.createElement(re.a,null,r.a.createElement(Ue,{header:t.question,showArrow:!1,extra:r.a.createElement(Ie,{disabled:m,question:t.selected_ans})},r.a.createElement("div",null,r.a.createElement("span",{className:"right-tick"},m?null:r.a.createElement(Le.a,{title:"save",type:"check",onClick:e.onSaveHandler,theme:"outlined",className:"mr-3",style:{color:"#85c63d",fontSize:"20px",border:"2px solid",borderRadius:"50%",padding:"5px"}}),m?null:r.a.createElement(Le.a,{title:"cross",type:"cross",onClick:e.onCrossHandler,theme:"outlined",style:{color:"red",fontSize:"20px",border:"2px solid",borderRadius:"50%",padding:"5px"}})),t.ans.map((function(a,n){return r.a.createElement(He.a,null,r.a.createElement("fieldset",{id:t.tag,onChange:function(a){return e.onChange(a,t)}},r.a.createElement(Te.a,{span:24},r.a.createElement("div",{className:"inputGroup"},"additional_cloud_migration"!==t.tag?r.a.createElement("input",{className:"form-control",value:a,id:t.tag+a,disabled:m,checked:t.selected_ans===a,name:t.tag,type:t.type}):r.a.createElement("input",{value:a,disabled:m,checked:e.state.checked.includes(a),id:t.tag+a,name:a,type:t.type,onChange:e.check}),r.a.createElement("label",{htmlFor:t.tag+a},a)))))}))))):t.q_disabled?r.a.createElement(re.a,null,r.a.createElement(Ue,{header:t.question,showArrow:!1,extra:r.a.createElement(Ie,{question:t.selected_ans,disabled:m})},r.a.createElement("div",null,r.a.createElement("span",{className:"right-tick"},m?null:r.a.createElement(Le.a,{title:"save",type:"check",onClick:e.onSaveHandler,theme:"outlined",className:"mr-3",style:{color:"#85c63d",fontSize:"20px",border:"2px solid",borderRadius:"50%",padding:"5px"}}),m?null:r.a.createElement(Le.a,{title:"cross",type:"cross",onClick:e.onCrossHandler,theme:"outlined",style:{color:"red",fontSize:"20px",border:"2px solid",borderRadius:"50%",padding:"5px"}})),r.a.createElement(He.a,null,r.a.createElement("fieldset",{id:t.tag},r.a.createElement(Te.a,{span:24},r.a.createElement("input",{className:"form-control",disabled:m,name:t.tag,value:t.selected_ans,placeholder:null===t.selected_ans?0:t.selected_ans,type:t.type,onChange:function(a){return e.onChange(a,t)}}))))))):void 0}));return r.a.createElement("section",{className:"edit-collapse-section"},r.a.createElement("div",{className:"container mt-2"},r.a.createElement(te.a,{loading:a},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2"},r.a.createElement("p",null,"Customer Name"),r.a.createElement("p",null,s)),r.a.createElement("div",{className:"col-md-2"},r.a.createElement("p",null,"Company Name"),r.a.createElement("p",null,l)),r.a.createElement("div",{className:"col-md-2"},r.a.createElement("p",null,"Refrence No"),r.a.createElement("p",null,n)),r.a.createElement("div",{className:"col-md-2"},r.a.createElement("p",null,"Quotation Date"),r.a.createElement("p",null,c)),r.a.createElement("div",{className:"col-md-2"},r.a.createElement("p",null,"Payment Date"),r.a.createElement("p",null,i)),r.a.createElement("div",{className:"col-md-1"},r.a.createElement("p",null,"Status "),r.a.createElement("p",null,o)),r.a.createElement("div",{className:"col-md-1"},r.a.createElement("p",null,"Last Updated By "),r.a.createElement("p",null,p)),r.a.createElement("div",{className:"col-md-1"},r.a.createElement("p",null,"Last Updated At "),r.a.createElement("p",null,h)),r.a.createElement("div",{className:"col-md-2"},r.a.createElement("p",null,"Price "),r.a.createElement("p",null,u)),r.a.createElement("div",{className:"col-md-1"},r.a.createElement("p",null,"Price"),r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("input",{type:"text",className:"form-control",value:d,name:"price",onChange:this.change})))),r.a.createElement("div",{className:"row float-right mt-4"},r.a.createElement(D.a,{className:"float-right",loading:a,type:"primary",onClick:function(){return e.props.history.push(e.props.match.params.path?"/Discounts":"/Quotations")}},"Back")))),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row mt-5"},r.a.createElement("div",{className:"col-md-10 offset-1"},a?r.a.createElement("div",{className:"text-center mt-5"},r.a.createElement(oe.a,{size:"large"})):f,r.a.createElement("div",{className:"mt-3 float-right"},m?null:r.a.createElement(D.a,{loading:a,type:"primary",onClick:this.onSubmitHandler},"Update"))),r.a.createElement("br",null)),r.a.createElement("div",{className:"row"})))}}]),t}(r.a.Component),We=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault();var t=a.state,n=t.customer_id,r=t.project_name,s=t.project_type,l=!1;""==n&&(ee.a.error("please Choose user"),l=!0),""===r&&(ee.a.error("Project name is necessary"),l=!0),""===s&&(ee.a.error("Project type is necessary"),l=!0),l||_.createProject({id:n,name:r,project_type:s}).then((function(){ee.a.success("Project created successfully."),a.props.history.push("/")})).catch((function(){ee.a.error("name already taken.")}))},a.onChange=function(e){a.setState(Object(X.a)({},e.target.name,e.target.value))},a.onCancel=function(){a.props.history.push("/")},a.state={customersFetched:[],types:[{value:"",display:"Select type"},{value:"Office 365",display:"Office 365"},{value:"Cyber",display:"Cyber"},{value:"Manage Services",display:"Manage Services"}],customer_id:"",project_name:"",project_type:""},a.props.setLocation("/Main"),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;_.getProjectCustomers().then((function(t){if(t){0===t.length&&ee.a.error("please create customer first");var a=t.map((function(e){return{value:e.id,display:e.name}}));a=[{value:"",display:"Select Customer"}].concat(a),e.setState({customersFetched:a})}}))}},{key:"render",value:function(){var e=this.state,t=e.customer_id,a=e.types,n=e.project_name,s=e.project_type,l=e.customersFetched;return r.a.createElement("div",{className:"col-md-6 offset-md-3"},r.a.createElement("h3",{className:"mt-5"},"Add Project"),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"project",className:"form-control",placeholder:"Project Name",name:"project_name",required:!0,onChange:this.onChange,value:n})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"Select status"},"select Type"),r.a.createElement("select",{className:"form-control",name:"project_type",value:s,onChange:this.onChange,required:!0},a.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.display)})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"Select status"},"select Customer"),r.a.createElement("select",{className:"form-control",name:"customer_id",value:t,onChange:this.onChange,required:!0},l.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.display)})))),r.a.createElement(D.a,{className:" ant-btn btn-success ant-btn-primary float-right ",onClick:this.onSubmit},"Create Project"),r.a.createElement(D.a,{className:" ant-btn btn-success ant-btn-primary ant-btn-gray float-right",onClick:this.onCancel},"Cancel"))}}]),t}(n.Component),Me=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).onSubmit=function(){a.props.history.push("/")},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"page-wrap d-flex flex-row align-items-center"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-md-12 text-center"},r.a.createElement("span",{className:"display-1 d-block"},"404"),r.a.createElement("div",{className:"mb-4 lead"},"The page you are looking for was not found."),r.a.createElement("button",{type:"submit",className:" ant-btn ant-btn-primary btn-success btn-block ",onClick:this.onSubmit},"back to Home Page")))))}}]),t}(n.Component),Re=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).setPermissions=function(){var e=[],t=[],n=[],r=[],s=[],l=!1,o=[];a.state.permissions.forEach((function(a){a.includes("users")&&(a.includes("create")?(e.read=!0,e.write=!0):(e.read=!0,e.write=!1)),a.includes("payments")&&(a.includes("create")?(t.read=!0,t.write=!0):(t.read=!0,t.write=!1)),a.includes("quotations")&&(a.includes("create")?(n.read=!0,n.write=!0):(n.read=!0,n.write=!1)),a.includes("discounts")&&(a.includes("create")?(r.read=!0,r.write=!0):(r.read=!0,r.write=!1)),a.includes("customers")&&(a.includes("create")?(s.read=!0,s.write=!0):(s.read=!0,s.write=!1)),a.includes("projects")&&(a.includes("create")?(o.read=!0,o.write=!0):(o.read=!0,o.write=!1)),a.includes("resource-assignment")&&(l=!0)})),a.setState({users:e,payments:t,quotations:n,discounts:r,customers:s,resourceAssign:l,projects:o,permissionsSet:!0},(function(){a.props.setPermissions(a.state.users,a.state.customers,a.state.quotations,a.state.discounts,a.state.payments,a.state.resourceAssign)}))},a.setToken=function(e){a.setState({token:e}),""===e&&a.setState({name:"",company_name:""}),a.props.setToken(e)},a.setName=function(e){a.setState({name:e})},a.setLocation=function(e){a.setState({location:e}),a.props.setKey(e)},a.setLocation=function(e){a.setState({location:e}),a.props.setKey(e)},a.state={token:w.a.load("admin_token"),name:"",id:-1,company_name:"VaporVM",location:"",permissions:[],users:{read:!1,write:!1},payments:{read:!1,write:!1},quotations:{read:!1,write:!1},discounts:{read:!1,write:!1},customers:{read:!1,write:!1},projects:{read:!1,write:!1},permissionsSet:!1,resourceAssign:!1},a.props.setToken(a.state.token),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this;""!==this.state.token&&void 0!==this.state.token&&_.getName().then((function(t){e.setState({name:t.name,permissions:t.permissions,id:t.id},(function(){var a={Authorization:"Bearer "+e.state.token};P.a.put("/api/user/"+t.id+"/online",null,{headers:a}),0===e.state.permissions.length?ee.a.error("you do not have enough rights"):e.setPermissions()}))})).catch((function(){w.a.remove("admin_token",{path:"/"}),e.setToken(""),e.props.setToken(""),e.props.history.push("/Login")}))}},{key:"componentDidUpdate",value:function(e,t,a){var n=this;""!==this.state.token&&this.state.token!==t.token&&!0!==this.props.calling&&_.getName().then((function(e){var t={Authorization:"Bearer "+n.state.token};P.a.put("/api/user/"+e.id+"/online",null,{headers:t}),n.setState({name:e.name,permissions:e.permissions,id:e.id}),n.setPermissions()})).catch((function(){w.a.remove("admin_token",{path:"/"}),n.setToken(""),n.props.setToken(""),n.props.history.push("/Login")}))}},{key:"render",value:function(){var e=this;window.scrollTo(0,0);var t=this.state,a=t.token,n=t.name,s=t.location,l=t.users,o=t.customers,c=t.quotations,i=t.discounts,m=t.projects,d=t.payments,p=t.resourceAssign;return void 0===a&&(a=""),void 0!==a&&""!==a&&(!this.state.permissionsSet||0!==this.state.permissions.length)?r.a.createElement(u.a,null,r.a.createElement(K,{name:n,location:s,token:this.state.token,history:this.props.history,id:this.state.id}),r.a.createElement("div",null,r.a.createElement(U.d,null,"/>",r.a.createElement(U.b,{path:"//",render:function(t){return r.a.createElement(ge,Object.assign({},t,{name:e.state.name,company_name:e.state.company_name,setLocation:e.setLocation,canWrite:p,token:e.state.token,canCreateProject:e.state.projects.write}))}}),r.a.createElement(U.b,{path:"/Login",render:function(t){return r.a.createElement(ge,Object.assign({},t,{name:e.state.name,company_name:e.state.company_name,setLocation:e.setLocation,canWrite:p,token:e.state.token,canCreateProject:e.state.projects.write}))}}),r.a.createElement(U.b,{exact:!0,path:"/EditProfile",render:function(t){return r.a.createElement(Ce,Object.assign({},t,{setName:e.setName}))}}),l.write?r.a.createElement(U.b,{exact:!0,path:"/AddUser",render:function(t){return r.a.createElement(_e,Object.assign({},t,{setName:e.setName}))}}):null,l.write?r.a.createElement(U.b,{exact:!0,path:"/EditUser/:id",render:function(t){return r.a.createElement(xe,Object.assign({},t,{setName:e.setName}))}}):null,o.write?r.a.createElement(U.b,{exact:!0,path:"/AddCustomer",render:function(t){return r.a.createElement(Pe,Object.assign({},t,{setName:e.setName}))}}):null,m.write?r.a.createElement(U.b,{exact:!0,path:"/AddProject",render:function(t){return r.a.createElement(We,Object.assign({},t,{setLocation:e.setLocation}))}}):null,o.write?r.a.createElement(U.b,{exact:!0,path:"/EditCustomer/:id",render:function(t){return r.a.createElement(Oe,Object.assign({},t,{setName:e.setName}))}}):null,m.read?r.a.createElement(U.b,{exact:!0,path:"/",render:function(t){return r.a.createElement(ge,Object.assign({},t,{name:e.state.name,company_name:e.state.company_name,setLocation:e.setLocation,canWrite:p,token:e.state.token,canCreateProject:e.state.projects.write}))}}):null,r.a.createElement(U.b,{exact:!0,path:"/Main",render:function(t){return r.a.createElement(ge,Object.assign({},t,{name:e.state.name,company_name:e.state.company_name,setLocation:e.setLocation,canWrite:p,token:e.state.token,canCreateProject:e.state.projects.write}))}})," : null}",l.read?r.a.createElement(U.b,{exact:!0,path:"/Users",render:function(t){return r.a.createElement(H,Object.assign({},t,{setLocation:e.setLocation,canwrite:l.write}))}}):null,p?r.a.createElement(U.b,{exact:!0,path:"/Resource",render:function(t){return r.a.createElement(De,Object.assign({},t,{setLocation:e.setLocation,canwrite:l.write}))}}):null,p?r.a.createElement(U.b,{exact:!0,path:"/Resource/:projectName",render:function(t){return r.a.createElement(De,Object.assign({},t,{setLocation:e.setLocation,canwrite:l.write}))}}):null,d.read?r.a.createElement(U.b,{exact:!0,path:"/Payments",render:function(t){return r.a.createElement(T,Object.assign({},t,{setLocation:e.setLocation}))}}):null,i.read?r.a.createElement(U.b,{exact:!0,path:"/Discounts",render:function(t){return r.a.createElement(F,Object.assign({},t,{setLocation:e.setLocation,canWrite:i.write}))}}):null,o.read?r.a.createElement(U.b,{exact:!0,path:"/Customers",render:function(t){return r.a.createElement(je,Object.assign({},t,{setLocation:e.setLocation,canwrite:o.write}))}}):null,c.read?r.a.createElement(U.b,{exact:!0,path:"/Quotations",render:function(t){return r.a.createElement(A,Object.assign({},t,{setLocation:e.setLocation,canWrite:c.write}))}}):null,c.write?r.a.createElement(U.b,{exact:!0,path:"/Edit/:refrenceNo/:path",render:function(t){return r.a.createElement(ze,Object.assign({},t,{setLocation:e.setLocation}))}}):null,c.write?r.a.createElement(U.b,{exact:!0,path:"/View/:refrenceNo/:path",render:function(t){return r.a.createElement(ze,Object.assign({},t,{setLocation:e.setLocation}))}}):null,c.write?r.a.createElement(U.b,{exact:!0,path:"/Edit/:refrenceNo/",render:function(t){return r.a.createElement(ze,Object.assign({},t,{setLocation:e.setLocation}))}}):null,c.write?r.a.createElement(U.b,{exact:!0,path:"/View/:refrenceNo/",render:function(t){return r.a.createElement(ze,Object.assign({},t,{setLocation:e.setLocation}))}}):null,r.a.createElement(U.b,{exact:!0,path:"/logout",render:function(t){return r.a.createElement(ve,Object.assign({},t,{setToken:e.setToken,token:e.state.token,id:e.state.id}))}}),this.state.permissions.length?r.a.createElement(U.b,{component:Me}):null))):r.a.createElement(u.a,null,r.a.createElement(Y,null),r.a.createElement("div",null,r.a.createElement(U.d,null,r.a.createElement(U.b,{exact:!0,path:"/Login",render:function(t){return r.a.createElement(ae,Object.assign({},t,{setToken:e.setToken}))}}),r.a.createElement(U.b,{path:"/VerifyEmail/:email",component:Ee}),r.a.createElement(U.b,{path:"/Forget",component:be}),r.a.createElement(U.b,{path:"/Message",component:ye}),r.a.createElement(U.b,{exact:!0,path:"/Reset/:token",component:Ne}),r.a.createElement(U.b,{exact:!0,path:"/ResetLink",component:we}),r.a.createElement(U.b,{render:function(t){return r.a.createElement(ae,Object.assign({},t,{setToken:e.setToken}))}}))))}}]),t}(n.Component),Ve=(p.a.Header,p.a.Sider),Ge=p.a.Content,Qe=p.a.Footer,Be=(h.a.SubMenu,function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).onCollapse=function(e){a.setState({collapsed:e})},a.setKey=function(e){a.setState({key:e})},a.setToken=function(e){a.setState({token:e,calling:!0}),""===e&&a.setState({calling:!1})},a.toggle=function(){a.setState({collapsed:!a.state.collapsed})},a.setPermissions=function(e,t,n,r,s,l){a.setState({users:e,customers:t,quotations:n,discounts:r,payments:s,resourceAssignment:l,called:!0})},a.state={token:"",collapsed:!1,key:"/",calling:!1,called:!1,users:{read:!1,write:!1},payments:{read:!1,write:!1},quotations:{read:!1,write:!1},discounts:{read:!1,write:!1},customers:{read:!1,write:!1},resourceAssignment:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.token,n=t.users,s=t.customers,l=t.quotations,o=t.discounts,c=t.payments,i=t.resourceAssignment,m=this.state.key;return a?r.a.createElement(p.a,null,r.a.createElement(Ve,{collapsible:!0,collapsed:this.state.collapsed,onCollapse:this.onCollapse},r.a.createElement(u.a,null,r.a.createElement(h.a,{className:"mt-5",theme:"dark",mode:"inline",selectedKeys:[m]},r.a.createElement(h.a.Item,{key:"/"},r.a.createElement(f.a,{onClick:function(){return e.props.history.push("/")},style:{fontSize:"36px",color:"#a8c438"}}),r.a.createElement("span",{style:{fontSize:"16px",color:"#a8c438"}},r.a.createElement(u.b,{to:"/"}," Projects"))),n.read?r.a.createElement(h.a.Item,{key:"/Users"},r.a.createElement(g.a,{onClick:function(){return e.props.history.push("/Users")},style:{fontSize:"36px",color:"#a8c438"}}),r.a.createElement("span",null,r.a.createElement(u.b,{to:"/Users"}," Users"))):null,s.read?r.a.createElement(h.a.Item,{key:"/Customers"},r.a.createElement(E.a,{onClick:function(){return e.props.history.push("/Customers")},style:{fontSize:"36px",color:"#a8c438"}}),r.a.createElement("span",null,r.a.createElement(u.b,{to:"/Customers"}," Customers"))):null,c.read?r.a.createElement(h.a.Item,{key:"/Payments"},r.a.createElement(v.a,{onClick:function(){return e.props.history.push("/Payments")},style:{fontSize:"36px",color:"#a8c438"}}),r.a.createElement("span",null,r.a.createElement(u.b,{to:"/Payments"}," Payments"))):null,o.read?r.a.createElement(h.a.Item,{key:"/Discounts"},r.a.createElement(b.a,{onClick:function(){return e.props.history.push("/Discounts")},style:{fontSize:"36px",color:"#a8c438"}}),r.a.createElement("span",null,r.a.createElement(u.b,{to:"/Discounts"}," Discounts"))):null,l.read?r.a.createElement(h.a.Item,{key:"/Quotations"},r.a.createElement(y.a,{onClick:function(){return e.props.history.push("/Quotations")},style:{fontSize:"36px",color:"#a8c438"}}),r.a.createElement("span",null,r.a.createElement(u.b,{to:"/Quotations"}," Quotations"))):null,i?r.a.createElement(h.a.Item,{key:"/Resource"},r.a.createElement(y.a,{style:{fontSize:"36px",color:"#a8c438"}}),r.a.createElement("span",null,r.a.createElement(u.b,{to:"/Resource"}," Resource Assignment"))):null))),r.a.createElement(p.a,{className:"site-layout"},r.a.createElement(Ge,{className:"site-layout-background",style:{padding:0,minHeight:980}},r.a.createElement(Re,{token:this.state.token,setToken:this.setToken,setKey:this.setKey,setPermissions:this.setPermissions,calling:this.state.calling,history:this.props.history})),r.a.createElement(Qe,{style:{textAlign:"center"}},"CopyRights \xa9 Vaporvm.com 2020"))):r.a.createElement(Re,{token:this.state.token,setToken:this.setToken,setKey:this.setKey,setPermissions:this.setPermissions,calling:this.state.calling})}}]),t}(r.a.Component));var Ze=function(){return r.a.createElement(u.a,null,r.a.createElement(U.b,{component:Be}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(Ze,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},79:function(e,t,a){}},[[222,1,2]]]);
//# sourceMappingURL=main.17f1aff6.chunk.js.map